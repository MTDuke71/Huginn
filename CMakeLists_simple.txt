cmake_minimum_required(VERSION 3.22)

project(Huginn LANGUAGES CXX)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Common source files
set(COMMON_SOURCES
    src/movedata.cpp
    src/validation.cpp
    src/io.cpp
    src/attack.cpp
    src/movegenerator.cpp
    src/evaluation.cpp
    src/makemove.cpp
    src/search.cpp
    src/uci.cpp
    src/perft.cpp
    src/bitboards.cpp
    src/hashkeys.cpp
    src/hashtable.cpp
)

# Simple evaluation debug tool
add_executable(simple_eval_debug 
    simple_eval_debug.cpp
    src/minimal_search.cpp
    src/pvtable.cpp
    ${COMMON_SOURCES}
    src/board.cpp
    src/position.cpp
    src/attack_detection.cpp
    src/debug.cpp
)
target_compile_features(simple_eval_debug PRIVATE cxx_std_17)
target_include_directories(simple_eval_debug PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/src)
set_target_properties(simple_eval_debug PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/bin"
)
